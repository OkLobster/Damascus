var vt=Object.defineProperty;var kt=(b,m,I)=>m in b?vt(b,m,{enumerable:!0,configurable:!0,writable:!0,value:I}):b[m]=I;var s=(b,m,I)=>kt(b,typeof m!="symbol"?m+"":m,I);(function(){"use strict";const b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAWklEQVQ4y2O48Orlf3Lxigs3/zOAGA0NDQzkYKwGkGJg9brtqAaQ6hoUA0DOIdULGC4gFXcfPEuZAQPvguFiADnxD7OULBcgqyfbBSiZCUSAMMg0GE0MhukDAIj/+eJKhLbdAAAAAElFTkSuQmCC";if(typeof globalThis.ModAPI>"u")throw new Error("No ModAPI");(async()=>{const{GlassAPI:e}=await Promise.resolve().then(()=>St);ModAPI.meta.title("GlassAPI"),ModAPI.meta.version("v1.0.0"),ModAPI.meta.description("GlassAPI is a mod that adds a new API to the game."),ModAPI.meta.credits("ALEIXMINE17"),ModAPI.meta.icon(b);function t(){const n=ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage("net.minecraft.client.gui.GuiScreen","handleComponentClick")];ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage("net.minecraft.client.gui.GuiScreen","handleComponentClick")]=function(...i){if(console.log("xdxd",i),i[1]){var o=i[1].$getChatStyle(),r=o.$getChatClickEvent();if(console.log(r),r){var l=r[ModAPI.util.getNearestProperty(r,"$action")],u=ModAPI.util.jclStrToJsStr(l[ModAPI.util.getNearestProperty(l,"$canonicalName")]),A=ModAPI.util.jclStrToJsStr(r[ModAPI.util.getNearestProperty(r,"$value")]);if(console.log("xdxdxd",u,A),u==="run_custom"){var P=e.text._internals._customClickEvents.get(A);if(P)return P(),1}}}var V=n.apply(this,i);return V}}t(),e.text.registerCustomClickEvent(new e.text.event.CustomClickEvent(()=>{console.log("Hello from custom click event"),alert("Hello!")},"example_log_and_hello")),e.text.Component.text("Hello").clickEvent(e.text.event.ClickEvent.RUN_CUSTOM("black_ui_and_hello")),globalThis.GlassAPI=e})();var m=(e=>(e[e.BOLD=0]="BOLD",e[e.ITALIC=1]="ITALIC",e[e.STRIKETHROUGH=2]="STRIKETHROUGH",e[e.UNDERLINED=3]="UNDERLINED",e[e.OBFUSCATED=4]="OBFUSCATED",e))(m||{});const I=ModAPI.util.str,T=ModAPI.reflect.getClassById("net.minecraft.util.ChatComponentText").constructors[0],tt=ModAPI.reflect.getClassById("net.minecraft.util.EnumChatFormatting").staticVariables,et=ModAPI.reflect.getClassById("net.minecraft.util.ChatStyle").constructors[0],nt=ModAPI.reflect.getClassById("net.minecraft.event.ClickEvent").constructors[0],H=ModAPI.reflect.getClassById("net.minecraft.event.ClickEvent$Action"),it=ModAPI.reflect.getClassById("net.minecraft.event.HoverEvent").constructors[0],st=ModAPI.reflect.getClassById("net.minecraft.event.HoverEvent$Action").staticVariables,ot=H.constructors[0](ModAPI.util.str("run_custom"),6,ModAPI.util.str("run_custom"),1);class w{constructor(){s(this,"siblings");s(this,"style");s(this,"event");this.siblings=[],this.style={color:"",strikethrough:!1,italic:!1,bold:!1,obfuscated:!1,underlined:!1},this.event={insertion:"",click:null,hover:null}}color(t){return this.style.color=t.name.toUpperCase(),this}strikethrough(t){return this.style.strikethrough=t,this}bold(t){return this.style.bold=t,this}italic(t){return this.style.italic=t,this}obfuscated(t){return this.style.obfuscated=t,this}underlined(t){return this.style.underlined=t,this}insertion(t){return this.event.insertion=t,this}clickEvent(t){return this.event.click=t,this}hoverEvent(t){return this.event.hover=t,this}append(t){return this.siblings.push(t),this}decoration(t,n){switch(t){case m.BOLD:this.bold(n);break;case m.ITALIC:this.italic(n);break;case m.OBFUSCATED:this.obfuscated(n);break;case m.STRIKETHROUGH:this.strikethrough(n);break;case m.UNDERLINED:this.underlined(n);break}return this}getStyle(){let t=et();if(this.style.color&&(t.$color2=tt[this.style.color]),this.style.bold&&(t.$bold=1),this.style.italic&&(t.$italic=1),this.style.strikethrough&&(t.$strikethrough=1),this.style.underlined&&(t.$underlined=1),this.style.obfuscated&&(t.$obfuscated=1),this.event.insertion&&(t.$insertion=I(this.event.insertion)),this.event.click){let n=this.event.click.name.toUpperCase(),i=null;n==="RUN_CUSTOM"?i=ot:i=H.staticVariables[n],t.$chatClickEvent=nt(i,I(this.event.click.value))}return this.event.hover&&(t.$chatHoverEvent=it(st[this.event.hover.name.toUpperCase()],T(I(this.event.hover.value)))),t}}const S=ModAPI.util.str,rt=ModAPI.reflect.getClassById("net.minecraft.util.ChatComponentText").constructors[0],K=ModAPI.reflect.getClassById("net.minecraft.util.ChatComponentScore").constructors[0];class at extends w{constructor(n,i){super();s(this,"name");s(this,"objective");this.name=n,this.objective=i}build(){let n=this.getStyle(),i;if(this.siblings.length>0){i=rt(S(""));let o=K(S(this.name),S(this.objective));o.$setChatStyle(n),i.$appendSibling(o);for(let r of this.siblings)i.$appendSibling(r.build())}else i=K(S(this.name),S(this.objective)),i.$setChatStyle(n);return i}}const F=ModAPI.util.str,ct=ModAPI.reflect.getClassById("net.minecraft.util.ChatComponentText").constructors[0],j=ModAPI.reflect.getClassById("net.minecraft.util.ChatComponentSelector").constructors[0];class lt extends w{constructor(n){super();s(this,"selector");this.selector=n}build(){let n=this.getStyle(),i;if(this.siblings.length>0){i=ct(F(""));let o=j(F(this.selector));o.$setChatStyle(n),i.$appendSibling(o);for(let r of this.siblings)i.$appendSibling(r.build())}else i=j(F(this.selector)),i.$setChatStyle(n);return i}}const D=ModAPI.util.str,x=ModAPI.reflect.getClassById("net.minecraft.util.ChatComponentText").constructors[0];class J extends w{constructor(n){super();s(this,"content");this.content=n}build(){let n=this.getStyle(),i;if(this.siblings.length>0){i=x(D(""));let o=x(D(this.content));o.$setChatStyle(n),i.$appendSibling(o);for(let r of this.siblings)i.$appendSibling(r.build())}else i=x(D(this.content)),i.$setChatStyle(n);return i}}const E=ModAPI.util.str,_=e=>ModAPI.hooks._teavm.$rt_createArrayFromData("java.util.List",e.map(t=>E(t))),ut=ModAPI.reflect.getClassById("net.minecraft.util.ChatComponentText").constructors[0],q=ModAPI.reflect.getClassById("net.minecraft.util.ChatComponentTranslation").constructors[0];class z extends w{constructor(n,...i){super();s(this,"translationKey");s(this,"args");this.translationKey=n,this.args=i}build(){let n=this.getStyle(),i;if(this.siblings.length>0){i=ut(E(""));let o=q(E(this.translationKey),_(this.args));o.$setChatStyle(n),i.$appendSibling(o);for(let r of this.siblings)i.$appendSibling(r.build())}else i=q(E(this.translationKey),_(this.args)),i.$setChatStyle(n);return i}}class dt{static text(t){return new J(t)}static score(t,n){return new at(t,n)}static selector(t){return new lt(t)}static translatable(t,...n){return new z(t,...n)}}const c=class c{constructor(t,n,i){s(this,"name");s(this,"value");s(this,"code");this.name=t,this.value=n,this.code=i}};s(c,"BLACK",new c("black",0,"0")),s(c,"DARK_BLUE",new c("dark_blue",170,"1")),s(c,"DARK_GREEN",new c("dark_green",43520,"2")),s(c,"DARK_AQUA",new c("dark_aqua",43690,"3")),s(c,"DARK_RED",new c("dark_red",11141120,"4")),s(c,"DARK_PURPLE",new c("dark_purple",11141290,"5")),s(c,"GOLD",new c("gold",16755200,"6")),s(c,"GRAY",new c("gray",11184810,"7")),s(c,"DARK_GRAY",new c("dark_gray",5592405,"8")),s(c,"BLUE",new c("blue",5592575,"9")),s(c,"GREEN",new c("green",5635925,"a")),s(c,"AQUA",new c("aqua",5636095,"b")),s(c,"RED",new c("red",16733525,"c")),s(c,"LIGHT_PURPLE",new c("light_purple",16733695,"d")),s(c,"YELLOW",new c("yellow",16777045,"e")),s(c,"WHITE",new c("white",16777215,"f"));let B=c;class M{constructor(t,n){s(this,"name");s(this,"value");this.name=t,this.value=n}static OPEN_URL(t){return new M("open_url",t)}static RUN_COMMAND(t){return new M("run_command",t)}static SUGGEST_COMMAND(t){return new M("suggest_command",t)}static EAGLER_PLUGIN_DOWNLOAD(t){return new M("eagler_plugin_download",t)}static TWITCH_USER_INFO(t){return new M("twitch_user_info",t)}static RUN_CUSTOM(t){return new M("run_custom",t)}}class p{constructor(t,n){s(this,"name");s(this,"value");this.name=t,this.value=n}static SHOW_TEXT(t){return new p("show_text",t)}static SHOW_ACHIEVEMENT(t){return new p("show_achievement",t)}static SHOW_ITEM(t){return new p("show_item",t)}static SHOW_ENTITY(t){return new p("show_entity",t)}}class U{constructor(t,n,i=()=>{}){s(this,"db",null);this.dbName=t,this.dbVersion=n,this.onUpgrade=i}ensureDBOpen(){if(!this.db)throw new Error("Database is not open. Call `open()` first.")}async open(){return new Promise((t,n)=>{const i=indexedDB.open(this.dbName,this.dbVersion);i.onupgradeneeded=o=>{this.db=o.target.result,this.onUpgrade(this.db)},i.onsuccess=o=>{this.db=o.target.result,t(this.db)},i.onerror=o=>n(o.target.error)})}createTransaction(t,n){return this.ensureDBOpen(),this.db.transaction(t,n)}async set(t,n,i){return new Promise((o,r)=>{const u=this.createTransaction(t,"readwrite").objectStore(t),A=i?u.put(n,i):u.put(n);A.onsuccess=()=>o(),A.onerror=P=>r(P.target.error)})}async get(t,n){return new Promise((i,o)=>{const u=this.createTransaction(t,"readonly").objectStore(t).get(n);u.onsuccess=()=>i(u.result),u.onerror=A=>o(A.target.error)})}async delete(t,n){return new Promise((i,o)=>{const u=this.createTransaction(t,"readwrite").objectStore(t).delete(n);u.onsuccess=()=>i(),u.onerror=A=>o(A.target.error)})}async getAll(t){return new Promise((n,i)=>{const l=this.createTransaction(t,"readonly").objectStore(t).getAll();l.onsuccess=()=>n(l.result),l.onerror=u=>i(u.target.error)})}async deleteDatabase(){return this.close(),new Promise((t,n)=>{const i=indexedDB.deleteDatabase(this.dbName);i.onsuccess=()=>t(),i.onerror=o=>n(o.target.error)})}async clear(t){return new Promise((n,i)=>{const l=this.createTransaction(t,"readwrite").objectStore(t).clear();l.onsuccess=()=>n(),l.onerror=u=>i(u.target.error)})}close(){this.db&&(this.db.close(),this.db=null)}}class O{constructor(t,n){this.dbManager=t,this.storeName=n}set(t,n){return this.dbManager.set(this.storeName,t,n)}get(t){return this.dbManager.get(this.storeName,t)}delete(t){return this.dbManager.delete(this.storeName,t)}clear(){return this.dbManager.clear(this.storeName)}getAll(){return this.dbManager.getAll(this.storeName)}}class L{constructor(t){this.dbStore=t}async setFile(t,n){await this.dbStore.set({path:t,data:n})}async getFile(t){return await this.dbStore.get(t)||null}async deleteFile(t){await this.dbStore.delete(t)}async renameFile(t,n){const i=await this.getFile(t);i&&(await this.setFile(n,i.data),await this.deleteFile(t))}async fileExists(t){return!!await this.getFile(t)}async setDirectory(t){await this.dbStore.set({path:t,data:null})}async deleteDirectory(t){const n=await this.listDirectory(t);for(const i of n)await this.deleteFile(i.path)}async listDirectory(t){return(await this.dbStore.getAll()).filter(i=>i.path.startsWith(t))}}class ht extends L{constructor(){super(null);s(this,"dbName",null);s(this,"dbManager",null)}async open(){const n=window.eaglercraftXOpts.resourcePacksDB,o=(await indexedDB.databases()).find(r=>{var l;return(l=r==null?void 0:r.name)==null?void 0:l.endsWith("_"+(n||"resourcePacks"))});if(!o||!o.name)throw new Error("Resource Packs database not found.");this.dbName=o.name,this.dbManager=new U(this.dbName,1,()=>{}),await this.dbManager.open(),super.constructor(new O(this.dbManager,"filesystem"))}}class gt extends L{constructor(){super(null);s(this,"dbName",null);s(this,"dbManager",null)}async open(){const n=window.eaglercraftXOpts.worldsDB,o=(await indexedDB.databases()).find(r=>{var l;return(l=r==null?void 0:r.name)==null?void 0:l.endsWith("_"+(n||"worlds"))});if(!o||!o.name)throw new Error("Worlds database not found.");this.dbName=o.name,this.dbManager=new U(this.dbName,1,()=>{}),await this.dbManager.open(),super.constructor(new O(this.dbManager,"filesystem"))}}var Q=(e=>(e.Chat="net.minecraft.client.gui.GuiChat",e.CommandBlock="GuiCommandBlock",e.Controls="net.minecraft.client.gui.GuiControls",e.CreateFlatWorld="net.minecraft.client.gui.GuiCreateFlatWorld",e.CreateWorld="net.minecraft.client.gui.GuiCreateWorld",e.CustomizeSkin="net.minecraft.client.gui.GuiCustomizeSkin",e.CustomizeWorldScreen="net.minecraft.client.gui.GuiCustomizeWorldScreen",e.Disconnected="net.minecraft.client.gui.GuiDisconnected",e.DownloadTerrain="net.minecraft.client.gui.GuiDownloadTerrain",e.ErrorScreen="net.minecraft.client.gui.GuiErrorScreen",e.FlatPresets="net.minecraft.client.gui.GuiFlatPresets",e.GameOver="net.minecraft.client.gui.GuiGameOver",e.IngameMenu="net.minecraft.client.gui.GuiIngameMenu",e.Language="net.minecraft.client.gui.GuiLanguage",e.MainMenu="net.minecraft.client.gui.GuiMainMenu",e.MemoryErrorScreen="net.minecraft.client.gui.GuiMemoryErrorScreen",e.Multiplayer="net.minecraft.client.gui.GuiMultiplayer",e.Options="net.minecraft.client.gui.GuiOptions",e.RenameWorld="net.minecraft.client.gui.GuiRenameWorld",e.AddServer="net.minecraft.client.gui.GuiScreenAddServer",e.Book="net.minecraft.client.gui.GuiScreenBook",e.CustomizePresets="net.minecraft.client.gui.GuiScreenCustomizePresets",e.OptionsSounds="net.minecraft.client.gui.GuiScreenOptionsSounds",e.ResourcePacks="net.minecraft.client.gui.GuiScreenResourcePacks",e.ServerList="net.minecraft.client.gui.GuiScreenServerList",e.Working="net.minecraft.client.gui.GuiScreenWorking",e.SelectWorld="net.minecraft.client.gui.GuiSelectWorld",e.VideoSettings="net.minecraft.client.gui.GuiVideoSettings",e.WinGame="net.minecraft.client.gui.GuiWinGame",e.YesNo="net.minecraft.client.gui.GuiYesNo",e.ChatOptions="net.minecraft.client.gui.ScreenChatOptions",e.Achievements="net.minecraft.client.gui.GuiAchievements",e.Stats="net.minecraft.client.gui.GuiStats",e.Container="net.minecraft.client.gui.GuiContainer",e.EditSign="net.minecraft.client.gui.GuiEditSign",e.Connecting="net.minecraft.client.gui.GuiConnecting",e.EnterBootMenu="net.minecraft.client.gui.GuiScreenEnterBootMenu",e.InspectSessionToken="net.minecraft.client.gui.GuiScreenInspectSessionToken",e.RevokeSessionToken="net.minecraft.client.gui.GuiScreenRevokeSessionToken",e.SendRevokeRequest="net.minecraft.client.gui.GuiScreenSendRevokeRequest",e.GenericErrorMessage="net.minecraft.client.gui.GuiScreenGenericErrorMessage",e.VideosettingsWarning="net.minecraft.client.gui.GuiScreenVideosettingsWarning",e.VisualViewport="net.minecraft.client.gui.GuiScreenVisualViewport",e.VSyncReEnabled="net.minecraft.client.gui.GuiScreenVSyncReEnabled",e.Notifications="net.minecraft.client.gui.GuiScreenNotifications",e.ShaderConfig="net.minecraft.client.gui.GuiShaderConfig",e.ShadersNotSupported="net.minecraft.client.gui.GuiShadersNotSupported",e.ContentWarning="net.minecraft.client.gui.GuiScreenContentWarning",e.Authentication="net.minecraft.client.gui.GuiAuthenticationScreen",e.DefaultUsernameNote="net.minecraft.client.gui.GuiScreenDefaultUsernameNote",e.EditCape="net.minecraft.client.gui.GuiScreenEditCape",e.EditProfile="net.minecraft.client.gui.GuiScreenEditProfile",e.ExportProfile="net.minecraft.client.gui.GuiScreenExportProfile",e.ImportExportProfile="net.minecraft.client.gui.GuiScreenImportExportProfile",e.ImportProfile="net.minecraft.client.gui.GuiScreenImportProfile",e.RecordingNote="net.minecraft.client.gui.GuiScreenRecordingNote",e.RecordingSettings="net.minecraft.client.gui.GuiScreenRecordingSettings",e.SelectCodec="net.minecraft.client.gui.GuiScreenSelectCodec",e.HandshakeApprove="net.minecraft.client.gui.GuiHandshakeApprove",e.AddRelay="net.minecraft.client.gui.GuiScreenAddRelay",e.BackupWorldSelection="net.minecraft.client.gui.GuiScreenBackupWorldSelection",e.ChangeRelayTimeout="net.minecraft.client.gui.GuiScreenChangeRelayTimeout",e.Connection="net.minecraft.client.gui.GuiScreenConnection",e.CreateWorldSelection="net.minecraft.client.gui.GuiScreenCreateWorldSelection",e.DemoIntegratedServerFailed="net.minecraft.client.gui.GuiScreenDemoIntegratedServerFailed",e.DemoIntegratedServerStart="net.minecraft.client.gui.GuiScreenDemoIntegratedServerStart",e.DemoPlayWorldSelection="net.minecraft.client.gui.GuiScreenDemoPlayWorldSelection",e.IntegratedServerBusy="net.minecraft.client.gui.GuiScreenIntegratedServerBusy",e.IntegratedServerCrashed="net.minecraft.client.gui.GuiScreenIntegratedServerCrashed",e.IntegratedServerFailed="net.minecraft.client.gui.GuiScreenIntegratedServerFailed",e.IntegratedServerStartup="net.minecraft.client.gui.GuiScreenIntegratedServerStartup",e.LANConnect="net.minecraft.client.gui.GuiScreenLANConnect",e.LANConnecting="net.minecraft.client.gui.GuiScreenLANConnecting",e.LANInfo="net.minecraft.client.gui.GuiScreenLANInfo",e.LANNotSupported="net.minecraft.client.gui.GuiScreenLANNotSupported",e.NameWorldImport="net.minecraft.client.gui.GuiScreenNameWorldImport",e.NoRelays="net.minecraft.client.gui.GuiScreenNoRelays",e.OldSeedWarning="net.minecraft.client.gui.GuiScreenOldSeedWarning",e.RAMDiskModeDetected="net.minecraft.client.gui.GuiScreenRAMDiskModeDetected",e.Relay="net.minecraft.client.gui.GuiScreenRelay",e.SingleplayerConnecting="net.minecraft.client.gui.GuiScreenSingleplayerConnecting",e.ShareToLAN="net.minecraft.client.gui.GuiShareToLAN",e.UpdateDownloadSuccess="net.minecraft.client.gui.GuiUpdateDownloadSuccess",e.UpdateInstallOptions="net.minecraft.client.gui.GuiUpdateInstallOptions",e.UpdateVersionList="net.minecraft.client.gui.GuiUpdateVersionList",e.PhishingWarning="net.minecraft.client.gui.GuiScreenPhishingWarning",e.ReceiveServerInfo="net.minecraft.client.gui.GuiScreenReceiveServerInfo",e.ServerInfo="net.minecraft.client.gui.GuiScreenServerInfo",e.ServerInfoDesktop="net.minecraft.client.gui.GuiScreenServerInfoDesktop",e))(Q||{});class ${constructor(t=4294967295){s(this,"red",1);s(this,"green",1);s(this,"blue",1);s(this,"alpha",1);this.setColor(t)}setColor(t){(t&4278190080)===0&&(t|=4278190080),this.red=(t>>16&255)/255,this.green=(t>>8&255)/255,this.blue=(t&255)/255,this.alpha=(t>>24&255)/255}static from(t,n,i,o=255){const r=new $;return r.setRed(t/255),r.setGreen(n/255),r.setBlue(i/255),r.setAlpha(o/255),r}applyDropShadow(){const t=this.getColorValue(),n=(t&16579836)>>2|t&4278190080;this.setColor(n)}getColorValue(){return Math.round(this.alpha*255)<<24|Math.round(this.red*255)<<16|Math.round(this.green*255)<<8|Math.round(this.blue*255)}getRed(){return this.red}getGreen(){return this.green}getBlue(){return this.blue}getAlpha(){return this.alpha}setRed(t){this.red=Math.max(0,Math.min(1,t))}setGreen(t){this.green=Math.max(0,Math.min(1,t))}setBlue(t){this.blue=Math.max(0,Math.min(1,t))}setAlpha(t){this.alpha=Math.max(0,Math.min(1,t))}}const d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));function mt(e,t=0){return(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase()}let N;const ft=new Uint8Array(16);function Ct(){if(!N){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");N=crypto.getRandomValues.bind(crypto)}return N(ft)}const Y={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function At(e,t,n){var o;if(Y.randomUUID&&!e)return Y.randomUUID();e=e||{};const i=e.random??((o=e.rng)==null?void 0:o.call(e))??Ct();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,mt(i)}class It{constructor(t,n=At()){s(this,"id");s(this,"action");this.id=n,this.action=t}}const y=class y{constructor(t,n,i,o,r,l=200,u=20){s(this,"id");s(this,"x");s(this,"y");s(this,"text");s(this,"width");s(this,"height");s(this,"action");this.id=t,this.x=n,this.y=i,this.text=o,this.width=l,this.height=u,this.action=r}toJava(){return y.JavaGuiButton(this.id,this.x,this.y,this.width,this.height,ModAPI.util.str(this.text))}};s(y,"JavaGuiButton",ModAPI.reflect.getClassById("net.minecraft.client.gui.GuiButton").constructors.filter(t=>t.length===6)[0]);let v=y;class W{constructor(t,n,i,o,r){s(this,"id");s(this,"x");s(this,"y");s(this,"text");s(this,"color");this.id=t,this.x=n,this.y=i,this.text=o,this.color=r}}const R=class R{constructor(t,n,i,o,r){s(this,"id");s(this,"x");s(this,"y");s(this,"width");s(this,"height");this.id=t,this.x=n,this.y=i,this.width=o,this.height=r}toJava(t){return R.JavaGuiTextField(this.id,t,this.x,this.y,this.width,this.height)}};s(R,"JavaGuiTextField",ModAPI.reflect.getClassById("net.minecraft.client.gui.GuiTextField").constructors.filter(t=>t.length===6)[0]);let k=R;class X{constructor(){s(this,"buttonComponents");s(this,"textFieldComponents");s(this,"labelComponents");this.buttonComponents=[],this.textFieldComponents=[],this.labelComponents=[]}addComponent(t){t instanceof v?this.buttonComponents.push(t):t instanceof k?this.textFieldComponents.push(t):t instanceof W&&this.labelComponents.push(t)}removeComponent(t){t instanceof v?this.buttonComponents.filter(n=>n.id!==t.id):t instanceof k?this.textFieldComponents.filter(n=>n.id!==t.id):t instanceof W&&this.labelComponents.filter(n=>n.id!==t.id)}getButtonComponents(){return this.buttonComponents}getTextFieldComponents(){return this.textFieldComponents}getLabelComponents(){return this.labelComponents}}const Mt=ModAPI.reflect.getClassById("net.minecraft.client.resources.I18n");class bt{constructor(){s(this,"screens");this.screens=new Map}addScreen(t,n){this.screens.has(t)||this.screens.set(t,new X),this.screens.get(t).addComponent(n)}build(){for(const[t,n]of this.screens){const i=ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"initGui")];ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"initGui")]=function(...a){var f=i.apply(this,a);n.getButtonComponents().forEach(g=>{a[0].$buttonList.$add(g.toJava())});var h=ModAPI.util.getNearestProperty(a[0],"$fontRendererObj"),C=a[0][h];return n.getTextFieldComponents().forEach(g=>{a[0]["tfd-"+g.id]=g.toJava(C)}),f};const o=ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"actionPerformed")];ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"actionPerformed")]=function(...a){var f=o.apply(this,a),h=ModAPI.util.getNearestProperty(a[1],"$id");return n.getButtonComponents().forEach(C=>{a[1]&&a[1][h]===C.id&&typeof C.action=="function"&&C.action(C)}),f};const r=ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"drawScreen")];ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"drawScreen")]=function(...a){var f=r.apply(this,a);n.getTextFieldComponents().forEach(g=>{a[0]["tfd-"+g.id].$drawTextBox()});var h=ModAPI.util.getNearestProperty(a[0],"$fontRendererObj"),C=a[0][h];return n.getLabelComponents().forEach(g=>{a[0].$drawString(C,Mt.staticMethods.format.method(ModAPI.util.str(g.text)),g.x,g.y,g.color.getColorValue())}),f};const l=ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"updateScreen")];ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"updateScreen")]=function(...a){var f=l.apply(this,a);return n.getTextFieldComponents().forEach(h=>{a[0]["tfd-"+h.id].$updateCursorCounter()}),f};const u=ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"keyTyped")];ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"keyTyped")]=function(...a){var f=u.apply(this,a);return n.getTextFieldComponents().forEach(h=>{a[0]["tfd-"+h.id].$textboxKeyTyped(a[1],a[2])}),f};const A=ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"mouseClicked")];ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"mouseClicked")]=function(...a){var f=A.apply(this,a);return n.getTextFieldComponents().forEach(h=>{a[0]["tfd-"+h.id].$mouseClicked(a[1],a[2],a[3])}),f};const P=ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"blockPTTKey")];ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"blockPTTKey")]=function(...a){const f=P.apply(this,a);let h=!1;return n.getTextFieldComponents().forEach(C=>{const g=a[0]["tfd-"+C.id];g&&g.$isFocused()&&(h=!0)}),f||h};const V=ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"showCopyPasteButtons")];ModAPI.hooks.methods[ModAPI.util.getMethodFromPackage(t,"showCopyPasteButtons")]=function(...a){const f=V.apply(this,a);let h=!1;return n.getTextFieldComponents().forEach(C=>{const g=a[0]["tfd-"+C.id];g&&g.$isFocused()&&(h=!0)}),f||h}}}}function pt(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return Object.values(e).some(i=>typeof i=="string"||typeof i=="number")&&t.some(i=>typeof e[e[i]]=="string"||typeof e[e[i]]=="number")}function Z(e,t){if(!(typeof e!="object"||e===null))for(const[n,i]of Object.entries(e))t[n]===void 0&&(typeof i=="object"&&i!==null&&!pt(i)?Z(i,t):t[n]=i)}function Pt(e,t=globalThis){const n=e.split(".");let i=G;for(const o of n)if(i=i==null?void 0:i[o],i===void 0)throw new Error(`Module path "${e}" is invalid at "${o}"`);if(typeof i=="object")Z(i,t);else{const o=n[n.length-1];t[o]=i}}const G={text:{_internals:{_customClickEvents:new Map},registerCustomClickEvent:e=>{G.text._internals._customClickEvents.set(e.id,e.action)},format:{NamedTextColor:B,TextDecoration:m},event:{ClickEvent:M,HoverEvent:p,CustomClickEvent:It},Component:dt,TextComponent:J,TranslatableComponent:z},db:{DatabaseManager:U,IndexedDBStore:O},fs:{FileSystemDB:L,ResourcePacksFS:ht,WorldsFS:gt},gui:{GuiScreenType:Q,GuiColor:$,GuiManager:bt,ComponentContainer:X,components:{GuiButton:v,GuiLabel:W,GuiTextField:k}},require:Pt},St=Object.freeze(Object.defineProperty({__proto__:null,GlassAPI:G},Symbol.toStringTag,{value:"Module"}))})();
